#!/bin/bash

export $(grep -v '^#' .env | xargs)

ACCESS_TOKEN="eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJHOTV2ajMtZDlJQ0otNEJuZ09iUkY2MVlpNzBMR01jQkpuZklISmFoRkFJIn0.eyJleHAiOjE3NTkxMTA1MzIsImlhdCI6MTc1OTExMDIzMiwianRpIjoiYjZhNmFkZjQtNmRmZS00NjA4LTk0NjEtZWFlYjIyMDFhMjZmIiwiaXNzIjoiaHR0cDovL2tleWNsb2FrLXByb2R1Y3Rpb24taHR0cC5rZXljbG9hay5zdmMuY2x1c3Rlci5sb2NhbC9hdXRoL3JlYWxtcy9vbml4LXYyLWRldiIsImF1ZCI6ImFjY291bnQiLCJzdWIiOiIwYmE2ZmQ4MS1iMTI1LTRlOTgtODRjNS03OTc0NzQ0ZGI4MmMiLCJ0eXAiOiJCZWFyZXIiLCJhenAiOiJwbGVhc2Utc2NhbiIsInNlc3Npb25fc3RhdGUiOiJhNDA0NWJlNS1iY2E4LTQwOTctYjJlNC1hYzhmOTA2ODdmZTUiLCJhY3IiOiIxIiwicmVhbG1fYWNjZXNzIjp7InJvbGVzIjpbIm9mZmxpbmVfYWNjZXNzIiwiZGVmYXVsdC1yb2xlcy1vbml4LXYyLWRldiIsInVtYV9hdXRob3JpemF0aW9uIl19LCJyZXNvdXJjZV9hY2Nlc3MiOnsiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIiwidmlldy1wcm9maWxlIl19fSwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCBvZmZsaW5lX2FjY2VzcyIsInNpZCI6ImE0MDQ1YmU1LWJjYTgtNDA5Ny1iMmU0LWFjOGY5MDY4N2ZlNSIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwibmFtZSI6IlBqYW1lIFBsZWFzZS1TY2FuIiwicHJlZmVycmVkX3VzZXJuYW1lIjoicGphbWUxNiIsImdpdmVuX25hbWUiOiJQamFtZSIsImxvY2FsZSI6ImVuIiwiZmFtaWx5X25hbWUiOiJQbGVhc2UtU2NhbiIsImVtYWlsIjoicGphbWUxNi5mYkBnbWFpbC5jb20ifQ.jhUrRB2_Wb7FraCeiQ1d2aHShxmPIQWrBQYUnqx2zca8ucDJOKbISRGO3YDh3VZzsNLhOzlBR99WGMCajrJjDIZlleXINOxgqJDwtudRvzTxGVjsdMc6AtD2isvEGHWrzo9HPXFT68ClrMqpRzpmN0wqV2zNIMsOVpne46JJxmJeVO1AoN5qfVLPipokEoxVQnO42GbpjkwMqXyuEAIUHa9kLIe2J6lmYPjvJtu3nZfUB3o6bU_aosCR1J1TQJEP8Z2RQ9gtYX_46X1xTdAUVS9173u0uFt5FN7JAEk2BFJWmaNWugQR8Arp4xFZGesm0HJEGydsik0inFlLh-nBTw"
ACCESS_TOKEN_B64=$(echo -n "${ACCESS_TOKEN}" | base64 -w0)

curl -s -X POST ${API_HTTP_ENDPOINT}/api/OnlyUser/org/temp/action/Logout \
-H "Content-Type: application/json" -v \
-H "Authorization: Bearer ${ACCESS_TOKEN_B64}"
