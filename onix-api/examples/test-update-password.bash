#!/bin/bash

export $(grep -v '^#' .env | xargs)

ACCESS_TOKEN="eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJHOTV2ajMtZDlJQ0otNEJuZ09iUkY2MVlpNzBMR01jQkpuZklISmFoRkFJIn0.eyJleHAiOjE3NTkyODg0NzYsImlhdCI6MTc1OTI4ODE3NiwianRpIjoiZjIyYzcyMzItOTJmOS00NWQ1LWIyNDEtY2M2NGVkNzY5MzA3IiwiaXNzIjoiaHR0cHM6Ly9rZXljbG9hay5kZXZvcHMubmFwYmlvdGVjLmlvL2F1dGgvcmVhbG1zL29uaXgtdjItZGV2IiwiYXVkIjoiYWNjb3VudCIsInN1YiI6ImQ1YWRhYjZmLTU1ODYtNGE3OC1iYTg5LWFiMGY5MGI1ZTk0MCIsInR5cCI6IkJlYXJlciIsImF6cCI6InBsZWFzZS1zY2FuIiwic2Vzc2lvbl9zdGF0ZSI6ImM5MmMzMGViLTAyMTMtNDFkMC04YTk0LTVmNWUwOGE2MDE5ZCIsImFjciI6IjEiLCJyZWFsbV9hY2Nlc3MiOnsicm9sZXMiOlsib2ZmbGluZV9hY2Nlc3MiLCJkZWZhdWx0LXJvbGVzLW9uaXgtdjItZGV2IiwidW1hX2F1dGhvcml6YXRpb24iXX0sInJlc291cmNlX2FjY2VzcyI6eyJhY2NvdW50Ijp7InJvbGVzIjpbIm1hbmFnZS1hY2NvdW50IiwibWFuYWdlLWFjY291bnQtbGlua3MiLCJ2aWV3LXByb2ZpbGUiXX19LCJzY29wZSI6Im9wZW5pZCBwcm9maWxlIGVtYWlsIG9mZmxpbmVfYWNjZXNzIiwic2lkIjoiYzkyYzMwZWItMDIxMy00MWQwLThhOTQtNWY1ZTA4YTYwMTlkIiwiZW1haWxfdmVyaWZpZWQiOmZhbHNlLCJuYW1lIjoiUGphbWUgUGxlYXNlLVNjYW4iLCJwcmVmZXJyZWRfdXNlcm5hbWUiOiJwamFtZTE1IiwiZ2l2ZW5fbmFtZSI6IlBqYW1lIiwibG9jYWxlIjoiZW4iLCJmYW1pbHlfbmFtZSI6IlBsZWFzZS1TY2FuIiwiZW1haWwiOiJwamFtZTE1LmZiQGdtYWlsLmNvbSJ9.DlNcESUkog4TxepMwFk5Aq7f-Xiu4eH2uZ_ACgoluM0zd-a0qqbBCcaDRnMP6tqqafAKRL0Q483vTw1C9jsukrqRI_XNPz1EPJwzNEqqDzrw8EWOucbdddDwjwFRA6R0qFTs0N5UbTQE7NvncIvcXLolvzIelB_xgqcVdHB4XpEkSWDk-e1aaNp1C4qnzBOHTm7wvJZNWVkFknWtEh2abFzp40Me_vpFnb4cZY1HPMj-8JQdCw_S4y_hfSW9N1TQhGA5pQ1Y02Hyz6ywICE8k2KH4pOWjcph5ajJbhedl4NkZylEDBs20xAgaru62GgziErNZufmBN1RPXz2KnjZqg"
ACCESS_TOKEN_B64=$(echo -n "${ACCESS_TOKEN}" | base64 -w0)


API_ENDPOINT='/api/OnlyUser/org/temp/action/UpdatePassword'

curl -s -X POST "${API_HTTP_ENDPOINT}${API_ENDPOINT}" \
-H "Content-Type: application/json" -v \
-H "Authorization: Bearer ${ACCESS_TOKEN_B64}" \
-d @update-password.json \
