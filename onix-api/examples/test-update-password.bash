#!/bin/bash

export $(grep -v '^#' .env | xargs)

ACCESS_TOKEN="eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJHOTV2ajMtZDlJQ0otNEJuZ09iUkY2MVlpNzBMR01jQkpuZklISmFoRkFJIn0.eyJleHAiOjE3NTk0MjAwMzEsImlhdCI6MTc1OTQxOTczMSwianRpIjoiYzQ2OTAwOWMtZmY4ZS00Yzc0LWIwNWUtMDg4MDgxNDMzOTMxIiwiaXNzIjoiaHR0cHM6Ly9rZXljbG9hay5kZXZvcHMubmFwYmlvdGVjLmlvL2F1dGgvcmVhbG1zL29uaXgtdjItZGV2IiwiYXVkIjoiYWNjb3VudCIsInN1YiI6IjBiYTZmZDgxLWIxMjUtNGU5OC04NGM1LTc5NzQ3NDRkYjgyYyIsInR5cCI6IkJlYXJlciIsImF6cCI6InBsZWFzZS1zY2FuIiwic2Vzc2lvbl9zdGF0ZSI6ImQxZGMzMzVjLTQ0YmEtNGE5NS1hYThmLTIzMzYxNTAzN2EyOCIsImFjciI6IjEiLCJyZWFsbV9hY2Nlc3MiOnsicm9sZXMiOlsib2ZmbGluZV9hY2Nlc3MiLCJkZWZhdWx0LXJvbGVzLW9uaXgtdjItZGV2IiwidW1hX2F1dGhvcml6YXRpb24iXX0sInJlc291cmNlX2FjY2VzcyI6eyJhY2NvdW50Ijp7InJvbGVzIjpbIm1hbmFnZS1hY2NvdW50IiwibWFuYWdlLWFjY291bnQtbGlua3MiLCJ2aWV3LXByb2ZpbGUiXX19LCJzY29wZSI6Im9wZW5pZCBwcm9maWxlIGVtYWlsIG9mZmxpbmVfYWNjZXNzIiwic2lkIjoiZDFkYzMzNWMtNDRiYS00YTk1LWFhOGYtMjMzNjE1MDM3YTI4IiwiZW1haWxfdmVyaWZpZWQiOmZhbHNlLCJuYW1lIjoiUGphbWUgUGxlYXNlLVNjYW4iLCJwcmVmZXJyZWRfdXNlcm5hbWUiOiJwamFtZTE2IiwiZ2l2ZW5fbmFtZSI6IlBqYW1lIiwibG9jYWxlIjoiZW4iLCJmYW1pbHlfbmFtZSI6IlBsZWFzZS1TY2FuIiwiZW1haWwiOiJwamFtZTE2LmZiQGdtYWlsLmNvbSJ9.XCJtiheGpHBAR-DMi4O-Y758CXfHn6cQS_r4Y1myMjxYJy3tO1NKPqRVdX4jhUMCVeLO5Fj-Sc6oXYjAQ90UOdGEIipQpQgmgYKxAETP9P3MrrvpmDCcgbasQ8ZaDGzjK_ZliyuAsLXHrsBWmIXEA-h3Hi2ZckCpTQTSKG8NrvL_SVODs8g7j5MO58L76YcDkxcmVGfLjK4vwd8_3e8IAjhlNEG9ilV1oCzO87eXSXIgMjX7Gmr1ZdFNsrKZ-tPv2xed5RbZjJM7XoRV5Jf-bemomkOmKjkozThW5V4HVxOzAsHqu8sVYCc6aNbUTqtPZhf34x6RnMvAe09HVdu8fw"
ACCESS_TOKEN_B64=$(echo -n "${ACCESS_TOKEN}" | base64 -w0)


API_ENDPOINT='/api/OnlyUser/org/temp/action/UpdatePassword'

curl -s -X POST "${API_HTTP_ENDPOINT}${API_ENDPOINT}" \
-H "Content-Type: application/json" \
-H "Authorization: Bearer ${ACCESS_TOKEN_B64}" \
-d @update-password.json \
